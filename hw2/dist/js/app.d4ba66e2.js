(function(){"use strict";var t={2918:function(t,e,o){var n=o(8935),r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("nav",[o("router-link",{attrs:{to:"/"}},[t._v("Home")]),t._v(" | "),o("router-link",{attrs:{to:"/todos"}},[t._v("Todo")]),t._v("| "),o("router-link",{attrs:{to:"/done"}},[t._v("Done")]),o("login-button")],1),o("router-view")],1)},s=[],a=o(9017);o(2530),o(9200);const i={apiKey:"AIzaSyDBXAg-MeHxqNcTBWt4c9O0fVqISg8RQmo",authDomain:"authexample-4a2cc.firebaseapp.com",projectId:"authexample-4a2cc",storageBucket:"authexample-4a2cc.appspot.com",messagingSenderId:"344349062756",appId:"1:344349062756:web:680612edab1e23dec0d171",measurementId:"G-RWXG1QL07T"};a.Z.initializeApp(i);const u=a.Z.auth(),l=new a.Z.auth.GoogleAuthProvider,c=a.Z.firestore();var d=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"auth"},[t.user?t._e():[o("button",{on:{click:t.signInWithGoogle}},[t._v(" Sign in with Google ")])],t.user?[o("img",{staticClass:"avatar",attrs:{src:t.user.photoURL,alt:"avatar",referrerpolicy:"no-referrer"}}),o("button",{on:{click:t.signOut}},[t._v("Sign Out")])]:t._e()],2)},h=[],f={components:{},name:"LoginButton",data(){return{user:null}},beforeCreate:function(){u.onAuthStateChanged((t=>{console.log("user state:",t),this.user=t||null}))},methods:{signInWithGoogle:function(){u.signInWithRedirect(l).then((t=>{this.user=t.user})).catch((t=>console.log(t)))},signOut:function(){u.signOut().then((()=>{this.user=null})).catch((t=>console.log(t)))}}},p=f,m=o(3736),v=(0,m.Z)(p,d,h,!1,null,"9ce4b2f4",null),_=v.exports,k={components:{LoginButton:_},beforeCreate:function(){u.getRedirectResult().then((t=>{t.user&&this.$router.push("/todos")})).catch((()=>{this.$router.push("/itsAllForNothing")}))}},g=k,b=(0,m.Z)(g,r,s,!1,null,null,null),y=b.exports,T=o(2809),C=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},w=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"center"},[o("h1",[t._v("Welcome to Todos")]),o("p",[t._v("Sign In to start planning your life today!")])])}],x={},$=(0,m.Z)(x,C,w,!1,null,"290a9167",null),O=$.exports,D=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"center"},[o("h1",[t._v(" Tasks TODO")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.newTodo,expression:"newTodo"}],attrs:{placeholder:"description of task"},domProps:{value:t.newTodo},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addNewTask.apply(null,arguments)},input:function(e){e.target.composing||(t.newTodo=e.target.value)}}}),o("button",{on:{click:t.addNewTask}},[t._v("+")]),o("todo-list")],1)},S=[],Z=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[0!=t.todos?o("ul",{staticStyle:{"list-style":"none"}},t._l(t.todos,(function(e){return o("li",{key:e.id},[!1===e.isDone&&e.task_creator===t.user.email?o("div",[o("router-link",{attrs:{id:"task",to:{name:"todoID",params:{id:e.id}}}},[t._v(t._s(e.task))]),o("input",{attrs:{type:"button",value:"done"},on:{click:function(o){return t.updateTask(e.id,!0)}}})],1):t._e()])})),0):t._e()])},A=[],E={name:"TodoList",props:{},data:function(){return{todos:!1,user:null}},beforeCreate:function(){u.onAuthStateChanged((t=>{this.user=t||null}))},firestore:{todos:c.collection("todoCollection").orderBy("created_at","desc")},methods:{updateTask:function(t,e){c.collection("todoCollection").doc(t).update({isDone:e})}}},I=E,R=(0,m.Z)(I,Z,A,!1,null,"5717fbcf",null),L=R.exports,N={components:{TodoList:L},name:"TodoView",data:function(){return{newTodo:"",user:null}},beforeCreate:function(){u.onAuthStateChanged((t=>{t?this.user=t:(this.user=null,this.$router.push({path:"/"}))}))},methods:{addNewTask:function(){let t={task:this.newTodo,isDone:!1,task_creator:this.user.email,created_at:Date.now()};this.newTodo="",c.collection("todoCollection").add(t)}}},j=N,B=(0,m.Z)(j,D,S,!1,null,"1e1f7342",null),G=B.exports,P=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"center"},[o("h1",[t._v(" Done List ")]),o("done-list")],1)},W=[],q=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[0!=t.todos?o("ul",{staticStyle:{"list-style":"none"}},t._l(t.todos,(function(e){return o("li",{key:e.id},[!0===e.isDone&&e.task_creator===t.user.email?o("div",[o("span",{attrs:{id:"task"}},[t._v(t._s(e.task))]),o("input",{attrs:{type:"button",value:"not done"},on:{click:function(o){return t.updateTask(e.id,!1)}}})]):t._e()])})),0):t._e()])},F=[],H={name:"DoneList",props:{},data:function(){return{todos:!1,user:null}},beforeCreate:function(){u.onAuthStateChanged((t=>{t?this.user=t:(this.user=null,this.$router.push({path:"/"}))}))},firestore:{todos:c.collection("todoCollection").orderBy("created_at","desc")},methods:{updateTask:function(t,e){c.collection("todoCollection").doc(t).update({isDone:e})}}},V=H,z=(0,m.Z)(V,q,F,!1,null,"667b2e7f",null),M=z.exports,Q={components:{DoneList:M},name:"DoneView",data:function(){return{user:null}},beforeCreate:function(){u.onAuthStateChanged((t=>{this.user=t||null}))},methods:{}},U=Q,X=(0,m.Z)(U,P,W,!1,null,"47429186",null),K=X.exports,J=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"error"},[o("h1",[t._v("ERROR, WE CAN'T FIND THIS PAGE")]),o("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/todos"}},[t._v("Todo Page")])],1)},Y=[],tt={},et=(0,m.Z)(tt,J,Y,!1,null,null,null),ot=et.exports,nt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return!1!==t.todo?o("div",[o("h1",[t._v("Task: "+t._s(t.todo.task))]),o("br"),o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.todo.task,expression:"todo.task"}],domProps:{value:t.todo.task},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.updateTask.apply(null,arguments)},input:function(e){e.target.composing||t.$set(t.todo,"task",e.target.value)}}}),t._v(" "),o("br"),o("button",{on:{click:t.updateTask}},[t._v("Save")]),o("br"),o("button",{on:{click:t.doneTask}},[t._v("Done")])]):t._e()},rt=[],st={data:function(){return{todo:!1,id:this.$route.params.id}},firestore:function(){return console.log("does this even run"),console.log(this.id),{todo:c.collection("todoCollection").doc(this.id)}},beforeCreate:function(){u.onAuthStateChanged((t=>{t?this.user=t:(this.user=null,this.$router.push({path:"/"}))}))},methods:{updateTask:function(){this.$firestoreRefs.todo.update({task:this.todo.task}),console.log(this.$route.name),this.$router.push({name:"todos"})},doneTask:function(){this.$firestoreRefs.todo.update({isDone:!0}),this.$router.push({name:"todos"})}}},at=st,it=(0,m.Z)(at,nt,rt,!1,null,null,null),ut=it.exports;n.Z.use(T.Z);const lt=[{path:"/",name:"home",component:O},{path:"/todos",name:"todos",meta:{requiresAuth:!0},component:G},{path:"/done",name:"done",meta:{requiresAuth:!0},component:K},{path:"/todo/:id",name:"todoID",meta:{requiresAuth:!0},component:ut},{path:"*",name:"error",component:ot}],ct=new T.Z({mode:"history",base:"/",routes:lt});ct.beforeEach(((t,e,o)=>{const n=t.matched.some((t=>t.meta.requiresAuth));n&&!u.currentUser?o("/"):o()}));var dt=ct,ht=o(1056);let ft;n.Z.use(ht.S),n.Z.config.productionTip=!1,u.onAuthStateChanged((()=>{ft||new n.Z({router:dt,render:t=>t(y)}).$mount("#app")}))}},e={};function o(n){var r=e[n];if(void 0!==r)return r.exports;var s=e[n]={exports:{}};return t[n](s,s.exports,o),s.exports}o.m=t,function(){var t=[];o.O=function(e,n,r,s){if(!n){var a=1/0;for(c=0;c<t.length;c++){n=t[c][0],r=t[c][1],s=t[c][2];for(var i=!0,u=0;u<n.length;u++)(!1&s||a>=s)&&Object.keys(o.O).every((function(t){return o.O[t](n[u])}))?n.splice(u--,1):(i=!1,s<a&&(a=s));if(i){t.splice(c--,1);var l=r();void 0!==l&&(e=l)}}return e}s=s||0;for(var c=t.length;c>0&&t[c-1][2]>s;c--)t[c]=t[c-1];t[c]=[n,r,s]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,n){var r,s,a=n[0],i=n[1],u=n[2],l=0;if(a.some((function(e){return 0!==t[e]}))){for(r in i)o.o(i,r)&&(o.m[r]=i[r]);if(u)var c=u(o)}for(e&&e(n);l<a.length;l++)s=a[l],o.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return o.O(c)},n=self["webpackChunkexample"]=self["webpackChunkexample"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(2918)}));n=o.O(n)})();
//# sourceMappingURL=app.d4ba66e2.js.map